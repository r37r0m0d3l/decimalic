!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).decimalic={})}(this,(function(e){"use strict";var t,n=!0,r="[DecimalError] ",i=r+"Invalid argument: ",o=r+"Exponent out of range: ",s=Math.floor,u=Math.pow,c=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,l=s(1286742750677284.5),a={};function add(e,t){var r,i,o,s,u,c,l,a,d=e.constructor,g=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),n?round(t,g):t;if(l=e.d,a=t.d,u=e.e,o=t.e,l=l.slice(),s=u-o){for(s<0?(i=l,s=-s,c=a.length):(i=a,o=u,c=l.length),s>(c=(u=Math.ceil(g/7))>c?u+1:c+1)&&(s=c,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for((c=l.length)-(s=a.length)<0&&(s=c,i=a,a=l,l=i),r=0;s;)r=(l[--s]=l[s]+a[s]+r)/f|0,l[s]%=f;for(r&&(l.unshift(r),++o),c=l.length;0==l[--c];)l.pop();return t.d=l,t.e=o,n?round(t,g):t}function checkInt32(e,t,n){if(e!==~~e||e<t||e>n)throw Error(i+e)}function digitsToString(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=getZeroString(n)),o+=r;(n=7-(r=(s=e[t])+"").length)&&(o+=getZeroString(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}a.absoluteValue=a.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},a.comparedTo=a.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},a.decimalPlaces=a.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},a.dividedBy=a.div=function(e){return d(this,new this.constructor(e))},a.dividedToIntegerBy=a.idiv=function(e){var t=this.constructor;return round(d(this,new t(e),0,1),t.precision)},a.equals=a.eq=function(e){return!this.cmp(e)},a.exponent=function(){return getBase10Exponent(this)},a.greaterThan=a.gt=function(e){return this.cmp(e)>0},a.greaterThanOrEqualTo=a.gte=function(e){return this.cmp(e)>=0},a.isInteger=a.isint=function(){return this.e>this.d.length-2},a.isNegative=a.isneg=function(){return this.s<0},a.isPositive=a.ispos=function(){return this.s>0},a.isZero=function(){return 0===this.s},a.lessThan=a.lt=function(e){return this.cmp(e)<0},a.lessThanOrEqualTo=a.lte=function(e){return this.cmp(e)<1},a.logarithm=a.log=function(e){var i,o=this,s=o.constructor,u=s.precision,c=u+5;if(void 0===e)e=new s(10);else if((e=new s(e)).s<1||e.eq(t))throw Error(r+"NaN");if(o.s<1)throw Error(r+(o.s?"NaN":"-Infinity"));return o.eq(t)?new s(0):(n=!1,i=d(ln(o,c),ln(e,c),c),n=!0,round(i,u))},a.minus=a.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?subtract(t,e):add(t,(e.s=-e.s,e))},a.modulo=a.mod=function(e){var t,i=this,o=i.constructor,s=o.precision;if(!(e=new o(e)).s)throw Error(r+"NaN");return i.s?(n=!1,t=d(i,e,0,1).times(e),n=!0,i.minus(t)):round(new o(i),s)},a.naturalExponential=a.exp=function(){return exp(this)},a.naturalLogarithm=a.ln=function(){return ln(this)},a.negated=a.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},a.plus=a.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?add(t,e):subtract(t,(e.s=-e.s,e))},a.precision=a.sd=function(e){var t,n,r,o=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(i+e);if(t=getBase10Exponent(o)+1,n=7*(r=o.d.length-1)+1,r=o.d[r]){for(;r%10==0;r/=10)n--;for(r=o.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},a.squareRoot=a.sqrt=function(){var e,t,i,o,u,c,f,l=this,a=l.constructor;if(l.s<1){if(!l.s)return new a(0);throw Error(r+"NaN")}for(e=getBase10Exponent(l),n=!1,0==(u=Math.sqrt(+l))||u==1/0?(((t=digitsToString(l.d)).length+e)%2==0&&(t+="0"),u=Math.sqrt(t),e=s((e+1)/2)-(e<0||e%2),o=new a(t=u==1/0?"1e"+e:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+e)):o=new a(u.toString()),u=f=(i=a.precision)+3;;)if(o=(c=o).plus(d(l,c,f+2)).times(.5),digitsToString(c.d).slice(0,f)===(t=digitsToString(o.d)).slice(0,f)){if(t=t.slice(f-3,f+1),u==f&&"4999"==t){if(round(c,i+1,0),c.times(c).eq(l)){o=c;break}}else if("9999"!=t)break;f+=4}return n=!0,round(o,i)},a.times=a.mul=function(e){var t,r,i,o,s,u,c,l,a,d=this,g=d.constructor,h=d.d,p=(e=new g(e)).d;if(!d.s||!e.s)return new g(0);for(e.s*=d.s,r=d.e+e.e,(l=h.length)<(a=p.length)&&(s=h,h=p,p=s,u=l,l=a,a=u),s=[],i=u=l+a;i--;)s.push(0);for(i=a;--i>=0;){for(t=0,o=l+i;o>i;)c=s[o]+p[i]*h[o-i-1]+t,s[o--]=c%f|0,t=c/f|0;s[o]=(s[o]+t)%f|0}for(;!s[--u];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,n?round(e,g.precision):e},a.toDecimalPlaces=a.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(checkInt32(e,0,1e9),void 0===t?t=r.rounding:checkInt32(t,0,8),round(n,e+getBase10Exponent(n)+1,t))},a.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=toString(r,!0):(checkInt32(e,0,1e9),void 0===t?t=i.rounding:checkInt32(t,0,8),n=toString(r=round(new i(r),e+1,t),!0,e+1)),n},a.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?toString(i):(checkInt32(e,0,1e9),void 0===t?t=o.rounding:checkInt32(t,0,8),n=toString((r=round(new o(i),e+getBase10Exponent(i)+1,t)).abs(),!1,e+getBase10Exponent(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},a.toInteger=a.toint=function(){var e=this,t=e.constructor;return round(new t(e),getBase10Exponent(e)+1,t.rounding)},a.toNumber=function(){return+this},a.toPower=a.pow=function(e){var i,o,u,c,f,l,a=this,d=a.constructor,g=+(e=new d(e));if(!e.s)return new d(t);if(!(a=new d(a)).s){if(e.s<1)throw Error(r+"Infinity");return a}if(a.eq(t))return a;if(u=d.precision,e.eq(t))return round(a,u);if(l=(i=e.e)>=(o=e.d.length-1),f=a.s,l){if((o=g<0?-g:g)<=9007199254740991){for(c=new d(t),i=Math.ceil(u/7+4),n=!1;o%2&&truncate((c=c.times(a)).d,i),0!==(o=s(o/2));)truncate((a=a.times(a)).d,i);return n=!0,e.s<0?new d(t).div(c):round(c,u)}}else if(f<0)throw Error(r+"NaN");return f=f<0&&1&e.d[Math.max(i,o)]?-1:1,a.s=1,n=!1,c=e.times(ln(a,u+12)),n=!0,(c=exp(c)).s=f,c},a.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=toString(i,(n=getBase10Exponent(i))<=o.toExpNeg||n>=o.toExpPos):(checkInt32(e,1,1e9),void 0===t?t=o.rounding:checkInt32(t,0,8),r=toString(i=round(new o(i),e,t),e<=(n=getBase10Exponent(i))||n<=o.toExpNeg,e)),r},a.toSignificantDigits=a.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(checkInt32(e,1,1e9),void 0===t?t=n.rounding:checkInt32(t,0,8)),round(new n(this),e,t)},a.toString=a.valueOf=a.val=a.toJSON=a[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=getBase10Exponent(e),n=e.constructor;return toString(e,t<=n.toExpNeg||t>=n.toExpPos)};var d=function(){function multiplyInteger(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%f|0,r=n/f|0;return r&&e.unshift(r),e}function compare(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function subtract(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(e,t,n,i){var o,s,u,c,l,a,d,g,h,p,m,v,w,E,x,N,D,S,b=e.constructor,B=e.s==t.s?1:-1,I=e.d,O=t.d;if(!e.s)return new b(e);if(!t.s)throw Error(r+"Division by zero");for(s=e.e-t.e,D=O.length,x=I.length,g=(d=new b(B)).d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--s,(v=null==n?n=b.precision:i?n+(getBase10Exponent(e)-getBase10Exponent(t))+1:n)<0)return new b(0);if(v=v/7+2|0,u=0,1==D)for(c=0,O=O[0],v++;(u<x||c)&&v--;u++)w=c*f+(I[u]||0),g[u]=w/O|0,c=w%O|0;else{for((c=f/(O[0]+1)|0)>1&&(O=multiplyInteger(O,c),I=multiplyInteger(I,c),D=O.length,x=I.length),E=D,p=(h=I.slice(0,D)).length;p<D;)h[p++]=0;(S=O.slice()).unshift(0),N=O[0],O[1]>=f/2&&++N;do{c=0,(o=compare(O,h,D,p))<0?(m=h[0],D!=p&&(m=m*f+(h[1]||0)),(c=m/N|0)>1?(c>=f&&(c=f-1),1==(o=compare(l=multiplyInteger(O,c),h,a=l.length,p=h.length))&&(c--,subtract(l,D<a?S:O,a))):(0==c&&(o=c=1),l=O.slice()),(a=l.length)<p&&l.unshift(0),subtract(h,l,p),-1==o&&(o=compare(O,h,D,p=h.length))<1&&(c++,subtract(h,D<p?S:O,p)),p=h.length):0===o&&(c++,h=[0]),g[u++]=c,o&&h[0]?h[p++]=I[E]||0:(h=[I[E]],p=1)}while((E++<x||void 0!==h[0])&&v--)}return g[0]||g.shift(),d.e=s,round(d,i?n+getBase10Exponent(d)+1:n)}}();function exp(e,r){var i,s,c,f,l,a=0,g=0,h=e.constructor,p=h.precision;if(getBase10Exponent(e)>16)throw Error(o+getBase10Exponent(e));if(!e.s)return new h(t);for(null==r?(n=!1,l=p):l=r,f=new h(.03125);e.abs().gte(.1);)e=e.times(f),g+=5;for(l+=Math.log(u(2,g))/Math.LN10*2+5|0,i=s=c=new h(t),h.precision=l;;){if(s=round(s.times(e),l),i=i.times(++a),digitsToString((f=c.plus(d(s,i,l))).d).slice(0,l)===digitsToString(c.d).slice(0,l)){for(;g--;)c=round(c.times(c),l);return h.precision=p,null==r?(n=!0,round(c,p)):c}c=f}}function getBase10Exponent(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function getLn10(e,t,i){if(t>e.LN10.sd())throw n=!0,i&&(e.precision=i),Error(r+"LN10 precision limit exceeded");return round(new e(e.LN10),t)}function getZeroString(e){for(var t="";e--;)t+="0";return t}function ln(e,i){var o,s,u,c,f,l,a,g,h,p=1,m=e,v=m.d,w=m.constructor,E=w.precision;if(m.s<1)throw Error(r+(m.s?"NaN":"-Infinity"));if(m.eq(t))return new w(0);if(null==i?(n=!1,g=E):g=i,m.eq(10))return null==i&&(n=!0),getLn10(w,g);if(g+=10,w.precision=g,s=(o=digitsToString(v)).charAt(0),c=getBase10Exponent(m),!(Math.abs(c)<15e14))return a=getLn10(w,g+2,E).times(c+""),m=ln(new w(s+"."+o.slice(1)),g-10).plus(a),w.precision=E,null==i?(n=!0,round(m,E)):m;for(;s<7&&1!=s||1==s&&o.charAt(1)>3;)s=(o=digitsToString((m=m.times(e)).d)).charAt(0),p++;for(c=getBase10Exponent(m),s>1?(m=new w("0."+o),c++):m=new w(s+"."+o.slice(1)),l=f=m=d(m.minus(t),m.plus(t),g),h=round(m.times(m),g),u=3;;){if(f=round(f.times(h),g),digitsToString((a=l.plus(d(f,new w(u),g))).d).slice(0,g)===digitsToString(l.d).slice(0,g))return l=l.times(2),0!==c&&(l=l.plus(getLn10(w,g+2,E).times(c+""))),l=d(l,new w(p),g),w.precision=E,null==i?(n=!0,round(l,E)):l;l=a,u+=2}}function parseDecimal(e,t){var r,i,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;48===t.charCodeAt(i);)++i;for(u=t.length;48===t.charCodeAt(u-1);)--u;if(t=t.slice(i,u)){if(u-=i,r=r-i-1,e.e=s(r/7),e.d=[],i=(r+1)%7,r<0&&(i+=7),i<u){for(i&&e.d.push(+t.slice(0,i)),u-=7;i<u;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=u;for(;i--;)t+="0";if(e.d.push(+t),n&&(e.e>l||e.e<-l))throw Error(o+r)}else e.s=0,e.e=0,e.d=[0];return e}function round(e,t,r){var i,c,a,d,g,h,p,m,v=e.d;for(d=1,a=v[0];a>=10;a/=10)d++;if((i=t-d)<0)i+=7,c=t,p=v[m=0];else{if((m=Math.ceil((i+1)/7))>=(a=v.length))return e;for(p=a=v[m],d=1;a>=10;a/=10)d++;c=(i%=7)-7+d}if(void 0!==r&&(g=p/(a=u(10,d-c-1))%10|0,h=t<0||void 0!==v[m+1]||p%a,h=r<4?(g||h)&&(0==r||r==(e.s<0?3:2)):g>5||5==g&&(4==r||h||6==r&&(i>0?c>0?p/u(10,d-c):0:v[m-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return h?(a=getBase10Exponent(e),v.length=1,t=t-a-1,v[0]=u(10,(7-t%7)%7),e.e=s(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==i?(v.length=m,a=1,m--):(v.length=m+1,a=u(10,7-i),v[m]=c>0?(p/u(10,d-c)%u(10,c)|0)*a:0),h)for(;;){if(0==m){(v[0]+=a)==f&&(v[0]=1,++e.e);break}if(v[m]+=a,v[m]!=f)break;v[m--]=0,a=1}for(i=v.length;0===v[--i];)v.pop();if(n&&(e.e>l||e.e<-l))throw Error(o+getBase10Exponent(e));return e}function subtract(e,t){var r,i,o,s,u,c,l,a,d,g,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),n?round(t,p):t;if(l=e.d,g=t.d,i=t.e,a=e.e,l=l.slice(),u=a-i){for((d=u<0)?(r=l,u=-u,c=g.length):(r=g,i=a,c=l.length),u>(o=Math.max(Math.ceil(p/7),c)+2)&&(u=o,r.length=1),r.reverse(),o=u;o--;)r.push(0);r.reverse()}else{for((d=(o=l.length)<(c=g.length))&&(c=o),o=0;o<c;o++)if(l[o]!=g[o]){d=l[o]<g[o];break}u=0}for(d&&(r=l,l=g,g=r,t.s=-t.s),c=l.length,o=g.length-c;o>0;--o)l[c++]=0;for(o=g.length;o>u;){if(l[--o]<g[o]){for(s=o;s&&0===l[--s];)l[s]=f-1;--l[s],l[o]+=f}l[o]-=g[o]}for(;0===l[--c];)l.pop();for(;0===l[0];l.shift())--i;return l[0]?(t.d=l,t.e=i,n?round(t,p):t):new h(0)}function toString(e,t,n){var r,i=getBase10Exponent(e),o=digitsToString(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+getZeroString(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+getZeroString(-i-1)+o,n&&(r=n-s)>0&&(o+=getZeroString(r))):i>=s?(o+=getZeroString(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+getZeroString(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=getZeroString(r))),e.s<0?"-"+o:o}function truncate(e,t){if(e.length>t)return e.length=t,!0}function config(e){if(!e||"object"!=typeof e)throw Error(r+"Object expected");var t,n,o,u=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<u.length;t+=3)if(void 0!==(o=e[n=u[t]])){if(!(s(o)===o&&o>=u[t+1]&&o<=u[t+2]))throw Error(i+n+": "+o);this[n]=o}if(void 0!==(o=e[n="LN10"])){if(o!=Math.LN10)throw Error(i+n+": "+o);this[n]=new this(o)}return this}var g=function clone(e){var t,n,r;function Decimal(e){var t=this;if(!(t instanceof Decimal))return new Decimal(e);if(t.constructor=Decimal,e instanceof Decimal)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(i+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):parseDecimal(t,e.toString())}if("string"!=typeof e)throw Error(i+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!c.test(e))throw Error(i+e);parseDecimal(t,e)}if(Decimal.prototype=a,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.clone=clone,Decimal.config=Decimal.set=config,void 0===e&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return Decimal.config(e),Decimal}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});t=new g(1);var h=g;e.Decimal=h,e.diff=function diff(e,t){const n=new h(e),r=new h(t);return n.minus(r).toNumber()},e.divide=function divide$1(e,t){const n=new h(e),r=new h(t);return n.dividedBy(r).toNumber()},e.multiply=function multiply(e,t){const n=new h(e),r=new h(t);return n.times(r).toNumber()},e.sum=function sum(e,t){const n=new h(e),r=new h(t);return n.plus(r).toNumber()},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=decimalic.js.map
