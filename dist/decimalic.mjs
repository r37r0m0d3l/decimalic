var e,t=!0,n="[DecimalError] ",r=n+"Invalid argument: ",i=n+"Exponent out of range: ",o=Math.floor,s=Math.pow,u=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,c=1e7,f=o(1286742750677284.5),l={};function add(e,n){var r,i,o,s,u,f,l,a,g=e.constructor,h=g.precision;if(!e.s||!n.s)return n.s||(n=new g(e)),t?round(n,h):n;if(l=e.d,a=n.d,u=e.e,o=n.e,l=l.slice(),s=u-o){for(s<0?(i=l,s=-s,f=a.length):(i=a,o=u,f=l.length),s>(f=(u=Math.ceil(h/7))>f?u+1:f+1)&&(s=f,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for((f=l.length)-(s=a.length)<0&&(s=f,i=a,a=l,l=i),r=0;s;)r=(l[--s]=l[s]+a[s]+r)/c|0,l[s]%=c;for(r&&(l.unshift(r),++o),f=l.length;0==l[--f];)l.pop();return n.d=l,n.e=o,t?round(n,h):n}function checkInt32(e,t,n){if(e!==~~e||e<t||e>n)throw Error(r+e)}function digitsToString(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=getZeroString(n)),o+=r;(n=7-(r=(s=e[t])+"").length)&&(o+=getZeroString(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}l.absoluteValue=l.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},l.comparedTo=l.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},l.decimalPlaces=l.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},l.dividedBy=l.div=function(e){return a(this,new this.constructor(e))},l.dividedToIntegerBy=l.idiv=function(e){var t=this.constructor;return round(a(this,new t(e),0,1),t.precision)},l.equals=l.eq=function(e){return!this.cmp(e)},l.exponent=function(){return getBase10Exponent(this)},l.greaterThan=l.gt=function(e){return this.cmp(e)>0},l.greaterThanOrEqualTo=l.gte=function(e){return this.cmp(e)>=0},l.isInteger=l.isint=function(){return this.e>this.d.length-2},l.isNegative=l.isneg=function(){return this.s<0},l.isPositive=l.ispos=function(){return this.s>0},l.isZero=function(){return 0===this.s},l.lessThan=l.lt=function(e){return this.cmp(e)<0},l.lessThanOrEqualTo=l.lte=function(e){return this.cmp(e)<1},l.logarithm=l.log=function(r){var i,o=this,s=o.constructor,u=s.precision,c=u+5;if(void 0===r)r=new s(10);else if((r=new s(r)).s<1||r.eq(e))throw Error(n+"NaN");if(o.s<1)throw Error(n+(o.s?"NaN":"-Infinity"));return o.eq(e)?new s(0):(t=!1,i=a(ln(o,c),ln(r,c),c),t=!0,round(i,u))},l.minus=l.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?subtract(t,e):add(t,(e.s=-e.s,e))},l.modulo=l.mod=function(e){var r,i=this,o=i.constructor,s=o.precision;if(!(e=new o(e)).s)throw Error(n+"NaN");return i.s?(t=!1,r=a(i,e,0,1).times(e),t=!0,i.minus(r)):round(new o(i),s)},l.naturalExponential=l.exp=function(){return exp(this)},l.naturalLogarithm=l.ln=function(){return ln(this)},l.negated=l.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},l.plus=l.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?add(t,e):subtract(t,(e.s=-e.s,e))},l.precision=l.sd=function(e){var t,n,i,o=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(r+e);if(t=getBase10Exponent(o)+1,n=7*(i=o.d.length-1)+1,i=o.d[i]){for(;i%10==0;i/=10)n--;for(i=o.d[0];i>=10;i/=10)n++}return e&&t>n?t:n},l.squareRoot=l.sqrt=function(){var e,r,i,s,u,c,f,l=this,g=l.constructor;if(l.s<1){if(!l.s)return new g(0);throw Error(n+"NaN")}for(e=getBase10Exponent(l),t=!1,0==(u=Math.sqrt(+l))||u==1/0?(((r=digitsToString(l.d)).length+e)%2==0&&(r+="0"),u=Math.sqrt(r),e=o((e+1)/2)-(e<0||e%2),s=new g(r=u==1/0?"1e"+e:(r=u.toExponential()).slice(0,r.indexOf("e")+1)+e)):s=new g(u.toString()),u=f=(i=g.precision)+3;;)if(s=(c=s).plus(a(l,c,f+2)).times(.5),digitsToString(c.d).slice(0,f)===(r=digitsToString(s.d)).slice(0,f)){if(r=r.slice(f-3,f+1),u==f&&"4999"==r){if(round(c,i+1,0),c.times(c).eq(l)){s=c;break}}else if("9999"!=r)break;f+=4}return t=!0,round(s,i)},l.times=l.mul=function(e){var n,r,i,o,s,u,f,l,a,g=this,h=g.constructor,d=g.d,p=(e=new h(e)).d;if(!g.s||!e.s)return new h(0);for(e.s*=g.s,r=g.e+e.e,(l=d.length)<(a=p.length)&&(s=d,d=p,p=s,u=l,l=a,a=u),s=[],i=u=l+a;i--;)s.push(0);for(i=a;--i>=0;){for(n=0,o=l+i;o>i;)f=s[o]+p[i]*d[o-i-1]+n,s[o--]=f%c|0,n=f/c|0;s[o]=(s[o]+n)%c|0}for(;!s[--u];)s.pop();return n?++r:s.shift(),e.d=s,e.e=r,t?round(e,h.precision):e},l.toDecimalPlaces=l.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(checkInt32(e,0,1e9),void 0===t?t=r.rounding:checkInt32(t,0,8),round(n,e+getBase10Exponent(n)+1,t))},l.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=toString(r,!0):(checkInt32(e,0,1e9),void 0===t?t=i.rounding:checkInt32(t,0,8),n=toString(r=round(new i(r),e+1,t),!0,e+1)),n},l.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?toString(i):(checkInt32(e,0,1e9),void 0===t?t=o.rounding:checkInt32(t,0,8),n=toString((r=round(new o(i),e+getBase10Exponent(i)+1,t)).abs(),!1,e+getBase10Exponent(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},l.toInteger=l.toint=function(){var e=this,t=e.constructor;return round(new t(e),getBase10Exponent(e)+1,t.rounding)},l.toNumber=function(){return+this},l.toPower=l.pow=function(r){var i,s,u,c,f,l,a=this,g=a.constructor,h=+(r=new g(r));if(!r.s)return new g(e);if(!(a=new g(a)).s){if(r.s<1)throw Error(n+"Infinity");return a}if(a.eq(e))return a;if(u=g.precision,r.eq(e))return round(a,u);if(l=(i=r.e)>=(s=r.d.length-1),f=a.s,l){if((s=h<0?-h:h)<=9007199254740991){for(c=new g(e),i=Math.ceil(u/7+4),t=!1;s%2&&truncate((c=c.times(a)).d,i),0!==(s=o(s/2));)truncate((a=a.times(a)).d,i);return t=!0,r.s<0?new g(e).div(c):round(c,u)}}else if(f<0)throw Error(n+"NaN");return f=f<0&&1&r.d[Math.max(i,s)]?-1:1,a.s=1,t=!1,c=r.times(ln(a,u+12)),t=!0,(c=exp(c)).s=f,c},l.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=toString(i,(n=getBase10Exponent(i))<=o.toExpNeg||n>=o.toExpPos):(checkInt32(e,1,1e9),void 0===t?t=o.rounding:checkInt32(t,0,8),r=toString(i=round(new o(i),e,t),e<=(n=getBase10Exponent(i))||n<=o.toExpNeg,e)),r},l.toSignificantDigits=l.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(checkInt32(e,1,1e9),void 0===t?t=n.rounding:checkInt32(t,0,8)),round(new n(this),e,t)},l.toString=l.valueOf=l.val=l.toJSON=l[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=getBase10Exponent(e),n=e.constructor;return toString(e,t<=n.toExpNeg||t>=n.toExpPos)};var a=function(){function multiplyInteger(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%c|0,r=n/c|0;return r&&e.unshift(r),e}function compare(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function subtract(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*c+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(e,t,r,i){var o,s,u,f,l,a,g,h,d,p,m,v,w,E,x,N,D,S,b=e.constructor,B=e.s==t.s?1:-1,I=e.d,O=t.d;if(!e.s)return new b(e);if(!t.s)throw Error(n+"Division by zero");for(s=e.e-t.e,D=O.length,x=I.length,h=(g=new b(B)).d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--s,(v=null==r?r=b.precision:i?r+(getBase10Exponent(e)-getBase10Exponent(t))+1:r)<0)return new b(0);if(v=v/7+2|0,u=0,1==D)for(f=0,O=O[0],v++;(u<x||f)&&v--;u++)w=f*c+(I[u]||0),h[u]=w/O|0,f=w%O|0;else{for((f=c/(O[0]+1)|0)>1&&(O=multiplyInteger(O,f),I=multiplyInteger(I,f),D=O.length,x=I.length),E=D,p=(d=I.slice(0,D)).length;p<D;)d[p++]=0;(S=O.slice()).unshift(0),N=O[0],O[1]>=c/2&&++N;do{f=0,(o=compare(O,d,D,p))<0?(m=d[0],D!=p&&(m=m*c+(d[1]||0)),(f=m/N|0)>1?(f>=c&&(f=c-1),1==(o=compare(l=multiplyInteger(O,f),d,a=l.length,p=d.length))&&(f--,subtract(l,D<a?S:O,a))):(0==f&&(o=f=1),l=O.slice()),(a=l.length)<p&&l.unshift(0),subtract(d,l,p),-1==o&&(o=compare(O,d,D,p=d.length))<1&&(f++,subtract(d,D<p?S:O,p)),p=d.length):0===o&&(f++,d=[0]),h[u++]=f,o&&d[0]?d[p++]=I[E]||0:(d=[I[E]],p=1)}while((E++<x||void 0!==d[0])&&v--)}return h[0]||h.shift(),g.e=s,round(g,i?r+getBase10Exponent(g)+1:r)}}();function exp(n,r){var o,u,c,f,l,g=0,h=0,d=n.constructor,p=d.precision;if(getBase10Exponent(n)>16)throw Error(i+getBase10Exponent(n));if(!n.s)return new d(e);for(null==r?(t=!1,l=p):l=r,f=new d(.03125);n.abs().gte(.1);)n=n.times(f),h+=5;for(l+=Math.log(s(2,h))/Math.LN10*2+5|0,o=u=c=new d(e),d.precision=l;;){if(u=round(u.times(n),l),o=o.times(++g),digitsToString((f=c.plus(a(u,o,l))).d).slice(0,l)===digitsToString(c.d).slice(0,l)){for(;h--;)c=round(c.times(c),l);return d.precision=p,null==r?(t=!0,round(c,p)):c}c=f}}function getBase10Exponent(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function getLn10(e,r,i){if(r>e.LN10.sd())throw t=!0,i&&(e.precision=i),Error(n+"LN10 precision limit exceeded");return round(new e(e.LN10),r)}function getZeroString(e){for(var t="";e--;)t+="0";return t}function ln(r,i){var o,s,u,c,f,l,g,h,d,p=1,m=r,v=m.d,w=m.constructor,E=w.precision;if(m.s<1)throw Error(n+(m.s?"NaN":"-Infinity"));if(m.eq(e))return new w(0);if(null==i?(t=!1,h=E):h=i,m.eq(10))return null==i&&(t=!0),getLn10(w,h);if(h+=10,w.precision=h,s=(o=digitsToString(v)).charAt(0),c=getBase10Exponent(m),!(Math.abs(c)<15e14))return g=getLn10(w,h+2,E).times(c+""),m=ln(new w(s+"."+o.slice(1)),h-10).plus(g),w.precision=E,null==i?(t=!0,round(m,E)):m;for(;s<7&&1!=s||1==s&&o.charAt(1)>3;)s=(o=digitsToString((m=m.times(r)).d)).charAt(0),p++;for(c=getBase10Exponent(m),s>1?(m=new w("0."+o),c++):m=new w(s+"."+o.slice(1)),l=f=m=a(m.minus(e),m.plus(e),h),d=round(m.times(m),h),u=3;;){if(f=round(f.times(d),h),digitsToString((g=l.plus(a(f,new w(u),h))).d).slice(0,h)===digitsToString(l.d).slice(0,h))return l=l.times(2),0!==c&&(l=l.plus(getLn10(w,h+2,E).times(c+""))),l=a(l,new w(p),h),w.precision=E,null==i?(t=!0,round(l,E)):l;l=g,u+=2}}function parseDecimal(e,n){var r,s,u;for((r=n.indexOf("."))>-1&&(n=n.replace(".","")),(s=n.search(/e/i))>0?(r<0&&(r=s),r+=+n.slice(s+1),n=n.substring(0,s)):r<0&&(r=n.length),s=0;48===n.charCodeAt(s);)++s;for(u=n.length;48===n.charCodeAt(u-1);)--u;if(n=n.slice(s,u)){if(u-=s,r=r-s-1,e.e=o(r/7),e.d=[],s=(r+1)%7,r<0&&(s+=7),s<u){for(s&&e.d.push(+n.slice(0,s)),u-=7;s<u;)e.d.push(+n.slice(s,s+=7));s=7-(n=n.slice(s)).length}else s-=u;for(;s--;)n+="0";if(e.d.push(+n),t&&(e.e>f||e.e<-f))throw Error(i+r)}else e.s=0,e.e=0,e.d=[0];return e}function round(e,n,r){var u,l,a,g,h,d,p,m,v=e.d;for(g=1,a=v[0];a>=10;a/=10)g++;if((u=n-g)<0)u+=7,l=n,p=v[m=0];else{if((m=Math.ceil((u+1)/7))>=(a=v.length))return e;for(p=a=v[m],g=1;a>=10;a/=10)g++;l=(u%=7)-7+g}if(void 0!==r&&(h=p/(a=s(10,g-l-1))%10|0,d=n<0||void 0!==v[m+1]||p%a,d=r<4?(h||d)&&(0==r||r==(e.s<0?3:2)):h>5||5==h&&(4==r||d||6==r&&(u>0?l>0?p/s(10,g-l):0:v[m-1])%10&1||r==(e.s<0?8:7))),n<1||!v[0])return d?(a=getBase10Exponent(e),v.length=1,n=n-a-1,v[0]=s(10,(7-n%7)%7),e.e=o(-n/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==u?(v.length=m,a=1,m--):(v.length=m+1,a=s(10,7-u),v[m]=l>0?(p/s(10,g-l)%s(10,l)|0)*a:0),d)for(;;){if(0==m){(v[0]+=a)==c&&(v[0]=1,++e.e);break}if(v[m]+=a,v[m]!=c)break;v[m--]=0,a=1}for(u=v.length;0===v[--u];)v.pop();if(t&&(e.e>f||e.e<-f))throw Error(i+getBase10Exponent(e));return e}function subtract(e,n){var r,i,o,s,u,f,l,a,g,h,d=e.constructor,p=d.precision;if(!e.s||!n.s)return n.s?n.s=-n.s:n=new d(e),t?round(n,p):n;if(l=e.d,h=n.d,i=n.e,a=e.e,l=l.slice(),u=a-i){for((g=u<0)?(r=l,u=-u,f=h.length):(r=h,i=a,f=l.length),u>(o=Math.max(Math.ceil(p/7),f)+2)&&(u=o,r.length=1),r.reverse(),o=u;o--;)r.push(0);r.reverse()}else{for((g=(o=l.length)<(f=h.length))&&(f=o),o=0;o<f;o++)if(l[o]!=h[o]){g=l[o]<h[o];break}u=0}for(g&&(r=l,l=h,h=r,n.s=-n.s),f=l.length,o=h.length-f;o>0;--o)l[f++]=0;for(o=h.length;o>u;){if(l[--o]<h[o]){for(s=o;s&&0===l[--s];)l[s]=c-1;--l[s],l[o]+=c}l[o]-=h[o]}for(;0===l[--f];)l.pop();for(;0===l[0];l.shift())--i;return l[0]?(n.d=l,n.e=i,t?round(n,p):n):new d(0)}function toString(e,t,n){var r,i=getBase10Exponent(e),o=digitsToString(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+getZeroString(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+getZeroString(-i-1)+o,n&&(r=n-s)>0&&(o+=getZeroString(r))):i>=s?(o+=getZeroString(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+getZeroString(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=getZeroString(r))),e.s<0?"-"+o:o}function truncate(e,t){if(e.length>t)return e.length=t,!0}function config(e){if(!e||"object"!=typeof e)throw Error(n+"Object expected");var t,i,s,u=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<u.length;t+=3)if(void 0!==(s=e[i=u[t]])){if(!(o(s)===s&&s>=u[t+1]&&s<=u[t+2]))throw Error(r+i+": "+s);this[i]=s}if(void 0!==(s=e[i="LN10"])){if(s!=Math.LN10)throw Error(r+i+": "+s);this[i]=new this(s)}return this}var g=function clone(e){var t,n,i;function Decimal(e){var t=this;if(!(t instanceof Decimal))return new Decimal(e);if(t.constructor=Decimal,e instanceof Decimal)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(r+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):parseDecimal(t,e.toString())}if("string"!=typeof e)throw Error(r+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!u.test(e))throw Error(r+e);parseDecimal(t,e)}if(Decimal.prototype=l,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.clone=clone,Decimal.config=Decimal.set=config,void 0===e&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return Decimal.config(e),Decimal}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});e=new g(1);var h=g;function diff(e,t){const n=new h(e),r=new h(t);return n.minus(r).toNumber()}function divide$1(e,t){const n=new h(e),r=new h(t);return n.dividedBy(r).toNumber()}function multiply(e,t){const n=new h(e),r=new h(t);return n.times(r).toNumber()}function sum(e,t){const n=new h(e),r=new h(t);return n.plus(r).toNumber()}export{h as Decimal,diff,divide$1 as divide,multiply,sum};
//# sourceMappingURL=decimalic.mjs.map
